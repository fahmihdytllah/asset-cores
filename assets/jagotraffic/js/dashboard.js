$.fn.extend({loaderHide:function(){this.removeClass("d-flex").addClass("d-none")},loaderShow:function(){this.removeClass("d-none").addClass("d-flex")}}),$(document).ready(function(){var e=$(".btn-login-adsense");let c,s,n,d,h,f=(h=(isDarkStyle?(c=config.colors_dark.cardColor,d=config.colors_dark.textMuted,n=config.colors_dark.bodyColor,s=config.colors_dark.headingColor,config.colors_dark):(c=config.colors.cardColor,d=config.colors.textMuted,n=config.colors.bodyColor,s=config.colors.headingColor,config.colors)).borderColor,{up:{class:"success",icon:"+"},down:{class:"danger",icon:""},"-":{class:"secondary",icon:"-"}});{let t=$("#statistics"),o=$("#statisticsLoader");t.hide(),o.loaderShow(),$.get("/api/user-statistics",function({data:e}){t.show(),o.loaderHide(),$(".total-visitors").html(g(e.totalHits)),$(".total-servers").html(g(e.totalBots)),$(".total-keys").html(g(e.totalKeys)),$(".total-errors").html(g(e.totalErrors))})}function t(){let o=$("#weeklySummaryChart"),r=$("#weeklySummaryLoader"),a=$("#weeklyOverview"),s=$("#weeklyOverviewLoader"),i=$("#earningsToday"),n=$("#earningsTodayLoader"),l=document.querySelector("#weeklySummaryChart");n.loaderShow(),r.loaderShow(),s.loaderShow(),o.hide(),a.hide(),$.get("/api/earnings-weekly",function({status:t,data:e}){if(n.loaderHide(),r.loaderHide(),s.loaderHide(),o.show(),a.show(),o.html(""),t){$(".earning-this-week").html(u(e.weekly.earnings)),$(".progress-weekly").css({width:e.weekly.progress}),$(".earning-average").html(u(e.daily.average)),$(".progress-daily").css({width:e.daily.progress}),$(".weekly-growth").html('<span class="text-'+f[e.weekly.growth.status].class+'"><i class="ti ti-chevron-'+e.weekly.growth.status+' me-1"></i>'+e.weekly.growth.value+"</span>"),i.html('<p class="text-heading mb-3 mt-1">'+u(e.daily.earnings)+'</p><div><span class="badge bg-label-'+f[e.daily.growth.status].class+'">'+e.daily.growth.value+"</span></div>");t={chart:{height:300,type:"area",toolbar:!1,dropShadow:{enabled:!0,top:18,left:2,blur:3,color:config.colors.primary,opacity:.15}},markers:{size:6,colors:"transparent",strokeColors:"transparent",strokeWidth:4,discrete:[{fillColor:c,seriesIndex:0,dataPointIndex:e.weekly.largestIndex,strokeColor:config.colors.primary,strokeWidth:4,size:6,radius:2}],hover:{size:7}},series:[{name:"Earnings",data:e.weekly.series}],dataLabels:{enabled:!1},stroke:{curve:"smooth",lineCap:"round"},colors:[config.colors.primary],fill:{type:"gradient",gradient:{shade:isDarkStyle,shadeIntensity:.8,opacityFrom:.7,opacityTo:.25,stops:[0,95,100]}},tooltip:{y:{formatter:u}},grid:{show:!0,borderColor:h,padding:{top:0,bottom:0,left:5,right:0}},xaxis:{categories:e.weekly.labels,labels:{offsetX:0,formatter:function(e){return new Date(e).toLocaleDateString("id-ID",{month:"short",day:"numeric"})},style:{colors:d,fontSize:"13px"}},axisBorder:{show:!1},axisTicks:{show:!1},lines:{show:!1}},yaxis:{labels:{offsetX:-7,formatter:g,style:{fontSize:"13px",colors:d,fontFamily:"Public Sans"}},min:0,tickAmount:5}};if(l,null!==l){let e=new ApexCharts(l,t);e.render()}}else o.html('<span class="text-muted">Please log in to your Adsense account first.<span>'),a.html('<span class="text-muted">Please log in to your Adsense account first.<span>'),i.html('<p class="text-heading mb-3 mt-1">--</p>')})}function o(){let e=$("#earningPlatformChart"),o=$("#earningPlatformLoader");o.loaderShow(),e.hide(),$.get("/api/earnings-by-platform",function({status:t,data:r}){if(o.loaderHide(),e.show(),e.html(""),t){t=document.querySelector("#earningPlatformChart");let o=r.series.reduce((e,t)=>e+t,0);var a={chart:{height:350,parentHeightOffset:0,type:"donut"},labels:r.labels,series:r.series,colors:config.colors.palette,stroke:{width:0},dataLabels:{enabled:!1,formatter:function(e,t){return(e/o*100).toFixed(1)+"%"}},legend:{show:!0,position:"bottom",offsetY:10,markers:{width:8,height:8,offsetX:-3},itemMargin:{horizontal:15,vertical:5},fontSize:"13px",fontFamily:"Public Sans",fontWeight:400,labels:{colors:s,useSeriesColors:!1}},tooltip:{y:{formatter:u}},grid:{padding:{top:15}},plotOptions:{pie:{donut:{size:"75%",labels:{show:!0,value:{fontSize:"26px",fontFamily:"Public Sans",color:s,fontWeight:500,offsetY:-30,formatter:function(e){return(e/o*100).toFixed(0)+"%"}},name:{offsetY:20,fontFamily:"Public Sans"},total:{show:!0,fontSize:"0.9rem",label:r.labels[0],color:d,formatter:function(e){return(r.series[0]/o*100).toFixed(0)+"%"}}}}}},responsive:[{breakpoint:1025,options:{chart:{height:380}}},{breakpoint:420,options:{chart:{height:300}}}]};config.colors.palette,s,s,n,r.labels[0];if(null!==t){let e=new ApexCharts(t,a);e.render()}}else e.html('<span class="text-muted">Please log in to your Adsense account first.<span>')})}function r(){let o=$("#earningYearlyChart"),r=$("#earningYearlyLoader"),a=$("#earningsThisMonth"),s=$("#earningsThisMonthLoader"),i=document.querySelector("#earningYearlyChart");r.loaderShow(),s.loaderShow(),o.hide(),a.hide(),o.html(""),$.get("/api/earnings-yearly",function({status:t,data:e}){if(r.loaderHide(),s.loaderHide(),o.show(),a.show(),t){a.html('<p class="text-heading mb-3 mt-1">'+u(e.monthly.earnings)+'</p><div><span class="badge bg-label-'+f[e.monthly.growth.status].class+'">'+e.monthly.growth.value+"</span></div>");t=((t,e,o)=>{var r=config.colors_label.primary,a=config.colors.primary,s=[];for(let e=0;e<t.length;e++)e===o?s.push(a):s.push(r);return e={chart:{height:258,parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"32%",startingShape:"rounded",borderRadius:7,distributed:!0,dataLabels:{position:"top"}}},grid:{show:!1,padding:{top:0,bottom:0,left:-10,right:-10}},colors:s,dataLabels:{enabled:!0,formatter:g,offsetY:-25,style:{fontSize:"15px",colors:[n],fontWeight:"600",fontFamily:"Public Sans"}},series:[{data:t}],legend:{show:!1},tooltip:{enabled:!1},xaxis:{categories:e,axisBorder:{show:!0,color:h},axisTicks:{show:!1},labels:{formatter:function(e){return e=new Date(e+"-01"),new Intl.DateTimeFormat("en-US",{month:"short"}).format(e)},style:{colors:d,fontSize:"13px",fontFamily:"Public Sans"}}},yaxis:{labels:{offsetX:-15,formatter:function(e){return g(parseInt(e))},style:{fontSize:"13px",colors:d,fontFamily:"Public Sans"},min:0,max:6e4,tickAmount:6}},responsive:[{breakpoint:1441,options:{plotOptions:{bar:{columnWidth:"41%"}}}},{breakpoint:590,options:{plotOptions:{bar:{columnWidth:"61%",borderRadius:5}},yaxis:{labels:{show:!1}},grid:{padding:{right:0,left:-20}},dataLabels:{style:{fontSize:"12px",fontWeight:"400"}}}}]}})(e.yearly.series,e.yearly.labels,e.yearly.largestIndex);if(i,null!==i){let e=new ApexCharts(i,t);e.render()}}else o.html('<span class="text-muted">Please log in to your Adsense account first.<span>'),a.html('<p class="text-heading mb-3 mt-1">--</p>')})}function a(){let e=$("#earningCountryChart"),o=$("#earningCountryLoader");o.loaderShow(),e.hide(),$.get("/api/earnings-by-country",function({status:t,data:r}){if(o.loaderHide(),e.show(),e.html(""),t){t=document.querySelector("#earningCountryChart");let o=r.series.reduce((e,t)=>e+t,0);var a={chart:{height:250,parentHeightOffset:0,type:"donut"},labels:r.labels,series:r.series,colors:config.colors.palette,stroke:{width:0},dataLabels:{enabled:!1,formatter:function(e,t){return(e/o*100).toFixed(1)+"%"}},legend:{show:!0,position:"right",offsetX:-10,offsetY:0,markers:{width:8,height:8,offsetX:-3},itemMargin:{horizontal:10,vertical:5},fontSize:"13px",fontFamily:"Public Sans",fontWeight:400,labels:{colors:s,useSeriesColors:!1}},tooltip:{y:{formatter:u}},grid:{padding:{top:10,bottom:0,left:0,right:0}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!0,value:{fontSize:"20px",fontFamily:"Public Sans",color:s,fontWeight:500,offsetY:-20,formatter:function(e){return(e/o*100).toFixed(0)+"%"}},name:{offsetY:30,fontFamily:"Public Sans"},total:{show:!0,fontSize:"14px",fontFamily:"Public Sans",color:n,label:r.labels[0],formatter:function(e){return(r.series[0]/o*100).toFixed(0)+"%"}}}}}},responsive:[{breakpoint:768,options:{chart:{height:240},legend:{position:"bottom",offsetY:5}}},{breakpoint:480,options:{chart:{height:220},legend:{position:"bottom",offsetY:5,itemMargin:{horizontal:8,vertical:3}}}}]};if(null!==t){let e=new ApexCharts(t,a);e.render()}}else e.html('<span class="text-muted">Please log in to your Adsense account first.<span>')})}function u(e){var t=navigator.language||"id-ID";return new Intl.NumberFormat(t,{style:"currency",currency:currencyCode}).format(e)}function g(e){return 1e9<=e?(e/1e9).toFixed(1)+"B":1e6<=e?(e/1e6).toFixed(1)+"M":1e3<=e?(e/1e3).toFixed(0)+"K":e.toString()}t(),$(".btn-refresh-weekly").click(function(){t()}),r(),$(".btn-refresh-yearly").click(function(){r()}),o(),$(".btn-refresh-platform").click(function(){o()}),a(),$(".btn-refresh-country").click(function(){a()}),e&&e.click(function(){thirdPartyAccess("google-adsense",{onSuccess:e=>{Swal.fire({title:"Good News!",text:e.msg,icon:"success",customClass:{confirmButton:"btn btn-primary waves-effect waves-light"}}).then(()=>location.reload())},onError:e=>{Swal.fire({title:"Bad News!",text:e.msg,icon:"error",customClass:{confirmButton:"btn btn-primary waves-effect waves-light"}})}})})});